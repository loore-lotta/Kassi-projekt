import tkinter as tk
from tkinter import messagebox
from PIL import Image, ImageTk

# Muusika imports
import sounddevice as sd
from scipy.io.wavfile import read
import threading


# Muusika 
def mÃ¤ngi_taustamuusikat():
    try:
        fs, data = read('taustamuusika.wav')  # WAV peab olema samas kaustas
        while True:
            sd.play(data, fs)
            sd.wait()
    except Exception as e:
        print("Muusika ei kÃ¤ivitu:", e)


# Viktoriini skoorid
Siiami_kass = 0
Sfinks = 0
Bengali_kass = 0
Scottish_fold = 0
PÃ¼ha_birma = 0
Meini_kass = 0
kysimus_index = 0


# KÃ¼s ja Vas
kysimused = [
    ("Kuidas kirjeldaksid oma hommikuid?", [
        "Ã„rkan vara ja olen kohe energiline",
        "VÃµtan aega, et alustada pÃ¤eva rahulikult",
        "Vajan kohvi, et funktsioneerida",
        "LÃ¤hen kohe seltskonda"]),
    ("Mis kirjeldab sind kÃµige paremini?", [
        "Sotsiaalne ja jutukas",
        "Rahulik ja tasakaalukas",
        "Uudishimulik ja seiklushimuline",
        "Iseseisev ja enesekindel"]),
    ("Kuidas sulle meeldib oma vaba aega veeta?", [
        "Ã•ues vÃµi trennis",
        "Kodus diivanil sarja vaadates vÃµi raamatut lugedes",
        "Seltskonnas â€“ sÃµpradega juttu ajades",
        "Omas tempos, omaette mÃµtteid mÃµlgutades"]),
    ("Kui keegi katkestab su tÃ¶Ã¶ vÃµi keskendumise, mida sa teed?", [
        "JÃ¤Ã¤n rahulikuks ja lahendan olukorra",
        "Ã„rritun veidi, aga ei pea pikka viha",
        "Ei hÃ¤iri, mul on alati energiat uueks tegevuseks",
        "Proovin lihtsalt tagasi oma rÃ¼tmi minna"]),
    ("Mis tÃ¼Ã¼pi kodu sulle kÃµige rohkem sobib?", [
        "Avar ja seltskonnarikas",
        "Vaikne ja hubane pesa",
        "Minimalistlik ja korras",
        "Looduse lÃ¤hedal, kus saab vabalt liikuda"]),
    ("Kuidas reageerid uutele inimestele?", [
        "Olen kohe sÃµbralik ja jutukas",
        "Olen ettevaatlik, kuni tunnen neid paremini",
        "Olen uudishimulik ja energiline",
        "Ei ole vÃ¤ga huvitatud, eelistan tuttavat seltskonda"]),
    ("Kui energiline sa oled?", [
        "VÃ¤ga aktiivne â€“ vajan alati tegevust",
        "Keskmine â€“ naudin nii puhkust kui tegutsemist",
        "VÃ¤ga rahulik",
        "KÃµik sÃµltub tujust"]),
    ("Kui iseseisev oled?", [
        "VÃ¤ga â€“ mulle meeldib tegutseda omaette",
        "MÃµÃµdukalt â€“ naudin seltskonda, aga ka oma aega",
        "VÃ¤he â€“ tahan alati kellegagi koos olla",
        "Pigem naudin liikumisvabadust ja spontaansust"]),
    ("Kui palju sulle meeldib tÃ¤helepanu saada?", [
        "Naudin, kui olen tÃ¤helepanu keskpunktis",
        "VÃ¤Ã¤rtustan, kui mind mÃ¤rgatakse, aga mitte Ã¼leliia",
        "Ma eelistan olla vaikselt taustal",
        "SÃµltub pÃ¤evast"]),
    ("Milline ilm tundub sulle kÃµige mÃµnusam?", [
        "PÃ¤ikeseline ja soe",
        "Kerge tuul ja kevadine vÃ¤rskus",
        "Pilvine ja hubane",
        "Vahelduv, natuke vihma ja pÃ¤ikest"]),
    ("Mis sa teeksid, kui keegi sÃ¶Ã¶b su friikartuli ilma luba kÃ¼simata?", [
        "Vastan passiiv-agressiivselt",
        "Vaikin ja plaanin kÃ¤ttemaksu",
        "Naeran ja varastan nende jÃ¤Ã¤tise tagasi",
        "Vahet pole, friikartulid on nagunii Ã¼lehinnatud"]),
    ("Kuidas reageerid, kui su Ã¤ratuskell heliseb?", [
        "HÃ¼ppan pÃ¼sti nagu sai rÃ¶sterist",
        "LÃ¼kkan kella mitu tundi edasi",
        "VÃµtan kohe telefoni, et sÃµnumitele vastata",
        "JÃ¤Ã¤n lihtsalt lebama ja teesklen, et maailm ei eksisteeri"]),
    ("Kui sa oleksid toit, siis mis sa oleksid?", [
        "Sushi â€“ ilus, kallis ja kÃµik tahavad sind",
        "Kartulipuder â€“ rÃµÃµmsameelne ja leplik",
        "Tuline karri â€“ energiline ja ootamatu",
        "Must kohv â€“ lihtne, aga legendaarne"]),
    ("Kui sa oleksid superkangelane, mis oleks su vÃµime?", [
        "MÃµtete lugemine",
        "NÃ¤htamatuks muutumine",
        "Superkiirus",
        "Teleporteerumine"]),
    ("Kui sulle antakse tasuta pilet kuhu iganes maailmas, kuhu sa lÃ¤hed?", [
        "Taisse",
        "Å otimaale",
        "Indoneesiasse",
        "Spaasse"]),
    ("Mis on sinu lemmikhobi?", [
        "Saladuste vÃ¤lja nuhkimine",
        "Magamine",
        "Midagi adrenaliini pakkuvat",
        "Jooga"])
]


vastuste_skoorid = [
    [("Bengali_kass",1), ("Meini_kass",1), None, ("Siiami_kass",1)],
    [("Siiami_kass",1), None, ("Bengali_kass",1), ("Sfinks",1)],
    [("Bengali_kass",1), ("PÃ¼ha_birma",1), ("Siiami_kass",1), ("Sfinks",1)],
    [("PÃ¼ha_birma",1), ("Siiami_kass",1), ("Sfinks",1), ("Scottish_fold",1)],
    [("Meini_kass",1), ("PÃ¼ha_birma",1), ("Sfinks",1), ("Bengali_kass",1)],
    [("Siiami_kass",1), ("Sfinks",1), ("Bengali_kass",1), ("Meini_kass",1)],
    [("Bengali_kass",1), ("PÃ¼ha_birma",1), ("Scottish_fold",1), ("Siiami_kass",1)],
    [("Sfinks",1), ("PÃ¼ha_birma",1), ("Siiami_kass",1), ("Bengali_kass",1)],
    [("Siiami_kass",1), ("PÃ¼ha_birma",1), ("Scottish_fold",1), ("Bengali_kass",1)],
    [("Sfinks",1), ("Bengali_kass",1), ("Scottish_fold",1), ("Sfinks",1)],
    [("Siiami_kass",1), ("Scottish_fold",1), ("Bengali_kass",1), ("Sfinks",1)],
    [("Bengali_kass",1), ("Scottish_fold",1), ("Siiami_kass",1), ("Sfinks",1)],
    [("Siiami_kass",1), ("Scottish_fold",1), ("Bengali_kass",1), ("Sfinks",1)],
    [("Siiami_kass",1), ("Scottish_fold",1), ("Bengali_kass",1), ("PÃ¼ha_birma",1)],
    [("Siiami_kass",1), ("Scottish_fold",1), ("Bengali_kass",1), ("PÃ¼ha_birma",1)],
    [("Siiami_kass",1), ("Scottish_fold",1), ("Bengali_kass",1), ("Meini_kass",1)]
]


# Peaaken
root = tk.Tk()
root.title("Kassiviktoriin")
root.geometry("800x700")
root.configure(bg="#FFC0CB")

# Muusika kÃ¤ivitus
threading.Thread(target=mÃ¤ngi_taustamuusikat, daemon=True).start()

# Algusaken
algusaken = tk.Frame(root, bg="#FFC0CB")
algusaken.pack(fill="both", expand=True)

pealkiri = tk.Label(algusaken, text="Tere tulemast kassitinderisse!", font=("Garamond", 22, "bold"), bg="#FFC0CB")
pealkiri.pack(pady=50)

viktoriin_frame = tk.Frame(root, bg="#FFC0CB")

kysimus_label = tk.Label(viktoriin_frame, text="", wraplength=700, font=("Garamond", 18, "bold"), bg="#FFC0CB")
kysimus_label.pack(pady=20)

vastuse_nupud = []
def valik(i): pass
for i in range(4):
    btn = tk.Button(viktoriin_frame, text="", width=60, font=("Garamond", 16), bg="#FFA6C1", fg="black", command=lambda i=i: valik(i))
    btn.pack(pady=6)
    vastuse_nupud.append(btn)


def kuva_kysimus():

    kysimus_label.config(text=f"ğŸ€ {kysimused[kysimus_index][0]} ğŸ€ ")
    for i, btn in enumerate(vastuse_nupud):
        btn.config(text=kysimused[kysimus_index][1][i])


def valik(nupp_index):
    global Siiami_kass, Sfinks, Bengali_kass, Scottish_fold, PÃ¼ha_birma, Meini_kass, kysimus_index

    kass_skoor = vastuste_skoorid[kysimus_index][nupp_index]
    if kass_skoor:
        kass, pts = kass_skoor
        globals()[kass] += pts

    kysimus_index += 1

    if kysimus_index < len(kysimused):
        kuva_kysimus()
    else:
        kuva_tulemus()


# Tulemus
def kuva_tulemus():
    global Siiami_kass, Sfinks, Bengali_kass, Scottish_fold, PÃ¼ha_birma, Meini_kass

    for btn in vastuse_nupud:
        btn.pack_forget()
    kysimus_label.pack_forget()
    viktoriin_frame.pack_forget()

    tulemus = max(Siiami_kass, Sfinks, Bengali_kass, Scottish_fold, PÃ¼ha_birma, Meini_kass)

    if tulemus == Siiami_kass:
        pilt_fail = "pilt_Siiam.jpg"
        pealkiri = "Sulle sobiks enim Siiami kass!"
        kirjeldus = (
            "Siiami kassid on tÃµelised seltsimehed â€“ jutukad, tÃ¤helepanelikud ja armastavad sinu seltskonda! Nad on sÃµbralikud, hellad ja armastavad pere lÃ¤hedust â€“ nad tahavad olla sinu elu lahutamatu osa. Ãœksi olemine ei ole nende teema: nad ihkavad pidevalt inimese vÃµi teise kassi kohalolu. Lisaks on nad nutikad ja mÃ¤nguhimulised â€“ kraapimispostid, mÃ¤nguasjad ja isegi trikkide Ãµpetamine hoiavad neid Ãµnnelikuna. Siiami kassiga ei hakka kunagi igav, sest tema energia ja uudishimu on nakkav!"
        )
    elif tulemus == Sfinks:
        pilt_fail = "pilt_Sfinks.jpg"
        pealkiri = "Sulle sobiks enim Sfinks!"
        kirjeldus = (
            "Sfinksid on tÃµelised sÃ¼damesÃµbrad: iseseisvad, ent samas Ã¤Ã¤rmiselt hellad ja tÃ¤helepanelikud. Nad armastavad inimeste ja teiste lemmikloomade seltskonda ning ootavad sind rÃµÃµmsalt koju tulles ukse peale tervitama! Sfinksid on intelligentsed, uudishimulikud ja mÃ¤nguhimulised. Sfinksid naudivad paisid ja tihti leiab neid teki alt sinu kÃµrval magamas. Sfinksidel on peale kÃµige vÃ¤ga suur sÃ¶Ã¶giisu ning nad armastavad sooja keskkonda."
        )
    elif tulemus == Bengali_kass:
        pilt_fail = "pilt_Bengali.jpg"
        pealkiri = "Sulle sobiks enim Bengali kass!"
        kirjeldus = (
            "Bengali kassid on vÃ¤ga sportlikud ja neile meeldib tÃ¤nu oma jahiinstinktile vÃ¤ga mÃ¤ngida, ronida ning maailma avastada. Inimesele on nad lojaalsed ja kiinduvad inimestesse sÃ¼gavalt. Neile ei meeldi olla Ã¼ksi - nad vajavad inimese vÃµi teise looma kohalolu. Nad on ka vÃ¤ga jutukad ja teevad Ã¤ratuntavaid hÃ¤Ã¤li, mis meenutavad metslooma omi! Ãœllatuseks armastavad Bengali kassid vett, seega vÃµid neid leida endaga koos duÅ¡i alt."
        )
    elif tulemus == Scottish_fold:
        pilt_fail = "pilt_Scot.jpg"
        pealkiri = "Sulle sobiks enim Scottish Fold!"
        kirjeldus = (
            "Iseloomult on nad vÃ¤ga rahulikud kassid ning ei torma kunagi kuhugi. Neil on enda rÃ¼tm millele nad kindlaks jÃ¤Ã¤vad ja ei lase teistel seda mÃµjutada, nad tegutsevad pigem omaette. Olenemata sellest meeldib neile vahest ikka mÃ¤ngida ning kui alustavad mÃ¤ngimist siis ikka tÃ¤iega. Nad armastavad vÃ¤ga oma omanikult tÃ¤helepanu saamist ning kaisutamist nii et hoia see kindlalt meeles!"
        )
    elif tulemus == PÃ¼ha_birma:
        pilt_fail = "pilt_Birma.jpg"
        pealkiri = "Sulle sobiks enim PÃ¼ha Birma!"
        kirjeldus = (
            "Iseloomult on nad vÃ¤ga sÃµbralikud ning uudishimulikud kassid. TÃ¤helepanu ning hoolitsust vajavad pigem tihti, kuid see eest on nad vÃ¤ga rahulikud ja sobilikud perele. Nad ei pelga vÃµÃµraid inimesi ja armastavad tÃ¤helepanu saamist. Nad on alati valmis sinuga mÃ¤ngima ja jutustama!"
        )
    else:
        pilt_fail = "pilt_Meini.jpg"
        pealkiri = "Sulle sobiks enim Meini kass!"
        kirjeldus = (
            "Iseloomult on nad kohe hommikust saadik energilised ning valmis pÃ¤eva vallutama. Toas nad liiga kaua ei suvatse olla ja vajav aeg ajalt Ãµues mÃ¤ngimist. Tihti soovivad nad mÃ¤ngida ning sÃµltuvad palju tÃ¤helepanust. Nad ei soovi vÃ¤ga pikaajaliselt Ã¼ksi olla ehk ole valmis jutukaks keskkonnaks!"
        )

    tulemus_frame = tk.Frame(root, bg="#FFC0CB")
    tulemus_frame.pack(fill="both", expand=True)

    title_label = tk.Label(tulemus_frame, text=f"ğŸ‰ {pealkiri}", font=("Garamond", 26, "bold"), pady=20, bg="#FFC0CB")
    title_label.pack()

    img = Image.open(pilt_fail)
    max_width = 350    
    max_height = 350
    img.thumbnail((max_width, max_height)) 
    tk_pilt = ImageTk.PhotoImage(img)

    pilt_silt = tk.Label(tulemus_frame, image=tk_pilt, bg="#FFC0CB")
    pilt_silt.image = tk_pilt
    pilt_silt.pack(pady=10)

    kirjeldus_silt = tk.Label(
        tulemus_frame,
        text=kirjeldus,
        wraplength=650,
        justify="center",
        font=("Garamond", 16),
        pady=10,
        bg="#FFC0CB"
    )
    kirjeldus_silt.pack()


def ava_viktoriin():
    algusaken.pack_forget()
    viktoriin_frame.pack(fill="both", expand=True)
    kuva_kysimus()


alusta_nupp = tk.Button(algusaken, text="Alusta", font=("Garamond", 18), bg="#FFA6C1", fg="black", command=ava_viktoriin)
alusta_nupp.pack()

root.mainloop()
